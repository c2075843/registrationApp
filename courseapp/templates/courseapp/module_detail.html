{% extends "courseapp/base.html" %}

{% block content %}

<div class="container">
  <div class="card">
  <div class="card-body">
    <h3 class="card-header text-success">{{ module.name }} Details</h3>
    <ul class="list-group">
      <li class="list-group-item">Course Code: {{ module.code }}</li>
      <li class="list-group-item">Course Credit: {{ module.credit }}</li>
    </ul> <br>
    {% if user.is_authenticated %}
      {% if registered %}
        <form method="post" action="{% url 'courseapp:unregister' module.code %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-outline-danger">Unregister</button>
        </form>
      {% else %}
        <form method="post" action="{% url 'courseapp:register' module.code %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-outline-success">Register</button>
        </form>
      {% endif %}
    {% endif %}
  </div>
  
  <div class="content-section card">
    <h5 class="text-info">Registrations</h5>

    

    {% if registered_students %}
      {% for first_name, last_name, photo_url in registered_students %}
        <ul class="list-group">
            <li class="list-group-item list-group-item-light" data-aos="fade-in">
                <img class="rounded-circle article-img" src="{{ photo.url }}" >
                <span class="article-content text-muted">{{ first_name }} {{ last_name }}</span>
            </li>
        </ul>
      {% empty %}
        <ul class="list-group">
            <li class="list-group-item">No students registered.</li>
        </ul>
      {% endfor %}
    {% else %}
      <p>No students registered.</p>
    {% endif %}
  </div>
    
  </div>
  


</div>
 
   
    
    
    
   


{% endblock %}
